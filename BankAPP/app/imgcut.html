<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>上传头像</title>
<link rel="stylesheet" href="../css/mui.min.css" />
<link rel="stylesheet" type="text/css" href="../css/hui.css" />
<link rel="stylesheet" href="../css/style.css" />
<style>
	 html,body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            display: flex;
            align-items: center; /*定义body的元素垂直居中*/
            justify-content: center; /*定义body的里的元素水平居中*/
        }
       
</style>
</head>
<body>
<header class="mui-bar mui-bar-nav">
		<span class="mui-action-back mui-icon mui-icon-arrowleft mui-pull-left" style="color: #FFFFFF;"></span>
		<h1 class="mui-title" style="color: #FFFFFF;" id="selectImgBtn">修改头像</h1>
		<span class="mui-pull-right" style="color: #FFFFFF;line-height: 45px;" id="uploadBtn">保存</span>
</header>
	<div class="hui-wrap">
    <div id="hui-img-cuter-select">
        <div id="hui-img-cuter-t1">+</div>
        <div id="hui-img-cuter-t2">请选择图片</div>
    </div>
<script type="text/javascript" src="../js/hui.js" charset="UTF-8"></script>
<script type="text/javascript" src="../js/hui-image-cuter.js" charset="UTF-8"></script>
<script type="text/javascript" src="../js/config.js" ></script>
<script type="text/javascript" src="../js/mui.min.js" ></script>
<script type="text/javascript">
/*
huiImgCuter 参数 
1. 宽度和高度的比例 高度 / 宽度 默认 1
2. 最终保存图片的宽度 默认 200px 高度根据宽高比自动调整
*/
var cuter = new huiImgCuter();
//绑定底部的选择按钮
cuter.bindSelect("#selectImgBtn");
//保存照片
hui('#uploadBtn').click(function(){
	//获取图片数据
	var imgData = cuter.getImgData();
	if(!imgData){hui.toast('请选择图片'); return;}
	hui.loading('上传图片...');
	/*
	//上传到服务端演示代码
    hui.post(
        'http://192.168.31.188/uper.php',
        {img:imgData},
        function(data){
            hui.closeLoading();
            hui.toast('上传成功!');
        }
    );
    */
   console.log(imgData);
    setTimeout(function(){hui.toast('上传成功，演示的！'); hui.closeLoading();}, 2000);
});
</script>
</body>
</html>